apply plugin: 'com.android.application'

android {
    compileSdkVersion 29

    signingConfigs {
        defaultConfig {

            applicationId "com.taurusx.ads.demo"

            // Jad
            // applicationId "com.jd.sdkceshiandroid"

            minSdkVersion 21
            targetSdkVersion 28
            versionCode 1
            versionName "1.0"
            testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
            multiDexEnabled = true

            ndk { abiFilters 'armeabi-v7a' }
        }
        config {
            storeFile file('../debug.jks')
            storePassword 'android'
            keyAlias 'debug'
            keyPassword 'android'
        }
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    repositories {
        flatDir {
            dirs 'libs'
        }
    }
}

// 区分国内、海外版
boolean oversea = false

// 优量汇分为标准版本、X5 内核加强版
boolean gdt_tbs = false

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])

    implementation "androidx.constraintlayout:constraintlayout:2.0.4"
    implementation "androidx.multidex:multidex:2.0.1"

    if (oversea) {
        // 海外版
        implementation "com.taurusx.ads:core-oversea:2.1.1"
        implementation "com.satori.sdk:eventio-go-oversea:2.2.6.0"
        implementation "com.satori.sdk:eventio-openudid:1.0.5"
    } else {
        // 国内版
        implementation "com.taurusx.ads:core:2.1.1"
        implementation "com.taurusx.ads:miit_mdid:1.0.25"
        implementation "com.satori.sdk:eventio-go:2.2.6.0"
        implementation "com.satori.sdk:eventio-openudid:1.0.5"
        implementation "com.satori.sdk:eventio-crashlytics:1.0.6"
    }
    implementation "androidx.recyclerview:recyclerview:1.1.0"


    // ####################################### China Network #######################################
    // IFly
    implementation "com.taurusx.ads:ifly_ad:4.4.4"
    implementation "com.taurusx.ads:mediation_ifly:4.4.4.1"
    implementation "androidx.legacy:legacy-support-v4:1.0.0"

    // Tuia
    implementation "com.taurusx.ads:mediation_tuia:3.1.0.0.0"
    implementation "com.tuia:sdk:3.1.0.0"
    implementation "androidx.appcompat:appcompat:1.2.0-alpha02"

    // YouDao
    implementation "com.taurusx.ads:mediation_youdao:4.1.8.1.0"
    implementation "com.taurusx.ads:youdaosdk:4.1.8.1"
    implementation "com.taurusx.ads:miit_mdid:1.0.25"

    // Jad
    implementation "com.taurusx.ads:mediation_jad:1.1.8.0"
    implementation "com.taurusx.ads:jad_yun_sdk:1.1.8"

    // Mobrain
    implementation "com.taurusx.ads:mediation_mobrain:2.6.1.0.0"
    implementation "com.taurusx.ads:mobrain:2.6.1.0"

    // Mobrain-Toutiao
    implementation "com.taurusx.ads:mediation_toutiao:3.4.5.6.0"
    implementation "com.taurusx.ads:toutiao_open_ad_sdk:3.4.5.6"
    implementation "androidx.legacy:legacy-support-v4:1.0.0"

    // Mobrain-GDT
    implementation "com.taurusx.ads:mobrain_adapter_gdt:4.333.1203.0"
    implementation "com.taurusx.ads:mediation_gdt:4.333.1203.0"
    if (gdt_tbs) {
        implementation "com.qq.e.union:tbs:4.333.1203"
    } else {
        implementation "com.qq.e.union:union:4.333.1203"
    }
    implementation "androidx.legacy:legacy-support-v4:1.0.0"

    // Mobrain-KuaiShou
    implementation "com.taurusx.ads:mobrain_adapter_kuaishou:3.3.6.5.0"
    implementation "com.taurusx.ads:mediation_kuaishou:3.3.6.5.0"
    implementation "com.taurusx.ads:ks_adsdk:3.3.6.5"
    implementation "com.google.android.material:material:1.1.0"
    implementation "androidx.appcompat:appcompat:1.2.0-alpha02"
    implementation "androidx.recyclerview:recyclerview:1.1.0"
    implementation "com.google.code.gson:gson:2.8.6"

    // Mobrain-Baidu
    implementation "com.taurusx.ads:mobrain_adapter_baidu:5.97.2"
    implementation "com.taurusx.ads:mediation_baidu:5.97.0"
    implementation "com.taurusx.ads:baidu_mobads_sdk:5.97"
    implementation "com.taurusx.ads:miit_mdid:1.0.25"

    // Mobrain-Mintegral
    implementation "com.taurusx.ads:mobrain_adapter_mintegral:10.9.02.1"
    if (oversea) {
        implementation "com.taurusx.ads:mediation_mintegral:15.4.51.0"
        implementation "com.mintegral.msdk.oversea:videojs:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgjscommon:15.4.51"
        implementation "com.mintegral.msdk.oversea:playercommon:15.4.51"
        implementation "com.mintegral.msdk.oversea:reward:15.4.51"
        implementation "com.mintegral.msdk.oversea:videocommon:15.4.51"
        implementation "com.mintegral.msdk.oversea:common:15.4.51"
        implementation "com.mintegral.msdk.oversea:interstitialvideo:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgnative:15.4.51"
        implementation "com.mintegral.msdk.oversea:nativeex:15.4.51"
        implementation "com.mintegral.msdk.oversea:interstitial:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgsplash:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgnativeadvanced:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgbanner:15.4.51"
        implementation "com.mintegral.msdk.oversea:interactiveads:15.4.51"
        implementation "com.mintegral.msdk.oversea:mtgbid:15.4.31"
    } else {
        implementation "com.taurusx.ads:mediation_mintegral:10.9.02.1"
        implementation "com.mintegral.msdk.china.support:videojs:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgjscommon:10.9.02"
        implementation "com.mintegral.msdk.china.support:playercommon:10.9.02"
        implementation "com.mintegral.msdk.china.support:reward:10.9.02"
        implementation "com.mintegral.msdk.china.support:videocommon:10.9.02"
        implementation "com.mintegral.msdk.china.support:interstitialvideo:10.9.02"
        implementation "com.mintegral.msdk.china.support:chinacommon:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgnative:10.9.02"
        implementation "com.mintegral.msdk.china.support:nativeex:10.9.02"
        implementation "com.mintegral.msdk.china.support:interstitial:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgsplash:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgnativeadvanced:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgbanner:10.9.02"
        implementation "com.mintegral.msdk.china.support:interactiveads:10.9.02"
        implementation "com.mintegral.msdk.china.support:mtgbid:10.9.02"
    }

    // ####################################### Other Network #######################################
    // AppLovin Max
    implementation "com.taurusx.ads:mediation_applovinmax:9.14.1.0"
    implementation "com.applovin:applovin-sdk:9.14.1"
    implementation "com.google.android.gms:play-services-ads:17.2.1"

    // Prebid
    implementation "com.taurusx.ads:mediation_prebid:1.5.1"
}


configurations.all {
    resolutionStrategy {
        force 'androidx.vectordrawable:vectordrawable-animated:1.1.0'
        force 'androidx.lifecycle:lifecycle-viewmodel:2.1.0'
        force 'androidx.appcompat:appcompat:1.2.0-alpha02'
        force 'androidx.fragment:fragment:1.1.0'
        force 'androidx.lifecycle:lifecycle-runtime:2.1.0'
        force 'androidx.arch.core:core-common:2.1.0'
        force 'androidx.lifecycle:lifecycle-common:2.1.0'
        force 'com.google.code.gson:gson:2.8.5'
    }
}